<!DOCTYPE html>
  
  
  
  
   <html class="no-js"> 

  <head lang="de">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,maximum-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=10" />
    <title>Übung 6 - Katapultbelagerung - Computergrafik</title>
    <meta name="generator" content="Hugo 0.54.0" />

    
    <meta name="description" content="Online-Material zum Fach Computergrafik.">
    
    <link rel="canonical" href="index.html">
    

    <meta property="og:url" content="index.html">
    <meta property="og:title" content="Computergrafik">
    <meta property="og:image" content="../../images/lecture_logo_cg.png">
    <meta name="apple-mobile-web-app-title" content="Computergrafik">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <link rel="shortcut icon" type="image/x-icon" href="../../images/lecture_icon.png">
    <link rel="icon" type="image/x-icon" href="../../images/lecture_icon.png">

    <style>
      @font-face {
        font-family: 'Icon';
        src: url('../../fonts/icon.eot');
        src: url('../../fonts/icon.eot')
               format('embedded-opentype'),
             url('../../fonts/icon.woff')
               format('woff'),
             url('../../fonts/icon.ttf')
               format('truetype'),
             url('../../fonts/icon.svg')
               format('svg');
        font-weight: normal;
        font-style: normal;
      }
    </style>

    <link rel="stylesheet" href="../../stylesheets/application.css">
    <link rel="stylesheet" href="../../stylesheets/temporary.css">
    <link rel="stylesheet" href="../../stylesheets/palettes.css">
    <link rel="stylesheet" href="../../stylesheets/highlight/highlight.css">

    
    
    
    <link rel="stylesheet" href="../../../../../../fonts.googleapis.com/cssa5a5.css?family=Ubuntu:400,700|Ubuntu+Mono">
    <style>
      body, input {
        font-family: 'Ubuntu', Helvetica, Arial, sans-serif;
      }
      pre, code {
        font-family: 'Ubuntu Mono', 'Courier New', 'Courier', monospace;
      }
    </style>

    
    <link rel="stylesheet" href="../../stylesheets/custom.css">
    
    <script src="../../javascripts/modernizr.js"></script>

    

  </head>
  <body class="palette-primary-light-green palette-accent-lime">




<div class="backdrop">
	<div class="backdrop-paper"></div>
</div>

<input class="toggle" type="checkbox" id="toggle-drawer">
<input class="toggle" type="checkbox" id="toggle-search">
<label class="toggle-button overlay" for="toggle-drawer"></label>

<header class="header">
	<nav aria-label="Header">
  <div class="bar default">
    <div class="button button-menu" role="button" aria-label="Menu">
      <label class="toggle-button icon icon-menu" for="toggle-drawer">
        <span></span>
      </label>
    </div>
    <div class="stretch">
      <div class="title">
        Übung 6 - Katapultbelagerung
      </div>
    </div>

    

    
    
        
  </div>
  <div class="bar search">
    <div class="button button-close" role="button" aria-label="Close">
      <label class="toggle-button icon icon-back" for="toggle-search"></label>
    </div>
    <div class="stretch">
      <div class="field">
        <input class="query" type="text" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck>
      </div>
    </div>
    <div class="button button-reset" role="button" aria-label="Search">
      <button class="toggle-button icon icon-close" id="reset-search"></button>
    </div>
  </div>
</nav>
</header>

<main class="main">
	<div class="drawer">
		<nav aria-label="Navigation">
  <a href="../../index.html" class="project">
    <div class="banner">
      
        <div class="logo">
          <img src="../../images/lecture_logo_cg.png">
        </div>
      
      <div class="name">
        <strong>Computergrafik </strong>
        
      </div>
    </div>
  </a>

  <div class="scrollable">
    <div class="wrapper">
      

      <div class="toc">
        
        <ul>
          




<li>
  
    



<a  title="Allgemeines" href="../../general/index.html">
	
	Allgemeines
</a>



  
</li>



<li>
  
    <span class="section">Kapitel 1</span>
    <ul>
      
        
        



<a  title="1.0 - Lektion - Blender" href="../../chapter01/lecture01/index.html">
	
	1.0 - Lektion - Blender
</a>



      
        
        



<a  title="1.1 - Übung - Intro" href="../../chapter01/exercise01_b/index.html">
	
	1.1 - Übung - Intro
</a>



      
    </ul>
  
</li>



<li>
  
    <span class="section">Kapitel 2</span>
    <ul>
      
        
        



<a  title="2.0 - Lektion - Einfaches Modelling" href="../../chapter02/lecture01/index.html">
	
	2.0 - Lektion - Einfaches Modelling
</a>



      
        
        



<a  title="2.1 - Übung - Polygonal Modeling" href="../../chapter02/exercise01_b/index.html">
	
	2.1 - Übung - Polygonal Modeling
</a>



      
    </ul>
  
</li>



<li>
  
    <span class="section">Kapitel 3</span>
    <ul>
      
        
        



<a  title="3.0 - Lektion - Geometrie verstehen" href="../../chapter03/lecture01/index.html">
	
	3.0 - Lektion - Geometrie verstehen
</a>



      
        
        



<a  title="3.1 - Übung - Box Modeling" href="../../chapter03/exercise01_b/index.html">
	
	3.1 - Übung - Box Modeling
</a>



      
        
        



<a  title="3.2 - Übung - Scultping" href="../../chapter03/exercise02_b/index.html">
	
	3.2 - Übung - Scultping
</a>



      
    </ul>
  
</li>



<li>
  
    <span class="section">Kapitel 4</span>
    <ul>
      
        
        



<a  title="4 - Lektion - Shading &amp; Rendering" href="../../chapter04/lecture01/index.html">
	
	4 - Lektion - Shading &amp; Rendering
</a>



      
        
        



<a  title="4.1 - Übung - Shading" href="../../chapter04/exercise01_b/index.html">
	
	4.1 - Übung - Shading
</a>



      
        
        



<a  title="4.2 - Übung - Licht &amp; Rendering" href="../../chapter04/exercise02_b/index.html">
	
	4.2 - Übung - Licht &amp; Rendering
</a>



      
    </ul>
  
</li>



<li>
  
    <span class="section">Kapitel 5</span>
    <ul>
      
        
        



<a  title="5 - Lektion - Materialien &amp; Texturen" href="../../chapter05/lecture01/index.html">
	
	5 - Lektion - Materialien &amp; Texturen
</a>



      
        
        



<a  title="5.1 - Übung - UV Editing" href="../../chapter05/exercise01_b/index.html">
	
	5.1 - Übung - UV Editing
</a>



      
        
        



<a  title="5.2 - Übung - Texture Painting" href="../../chapter05/exercise02_b/index.html">
	
	5.2 - Übung - Texture Painting
</a>



      
    </ul>
  
</li>



<li>
  
    <span class="section">Kapitel 6</span>
    <ul>
      
        
        



<a  title="6 - Lektion - Animation" href="../lecture01/index.html">
	
	6 - Lektion - Animation
</a>



      
        
        



<a class="current" title="6 - Übung - Katapultbelagerung" href="index.html">
	
	6 - Übung - Katapultbelagerung
</a>


<ul id="scrollspy">
</ul>


      
    </ul>
  
</li>



<li>
  
    <span class="section">Kapitel 7</span>
    <ul>
      
        
        



<a  title="7.1 - Übung - Rigging" href="../../chapter07/exercise01_b/index.html">
	
	7.1 - Übung - Rigging
</a>



      
        
        



<a  title="7.2 - Übung - Partikel &amp; Feuer" href="../../chapter07/exercise02_b/index.html">
	
	7.2 - Übung - Partikel &amp; Feuer
</a>



      
    </ul>
  
</li>



<li>
  
    <span class="section">Teamprojekt (Nur MKB/OMB)</span>
    <ul>
      
        
        



<a  title="Projektauftrag (PDF)" href="../../project/WS20_Projektauftrag.html">
	
	Projektauftrag (PDF)
</a>



      
        
        



<a  title="Leistungsbeispiele" href="../../abgabe/leistungsbeispiele/index.html">
	
	Leistungsbeispiele
</a>



      
    </ul>
  
</li>



<li>
  
    <span class="section">FELIX</span>
    <ul>
      
        
        



<a  title="Ergebnisse einreichen" href="https://felix.hs-furtwangen.de/url/RepositoryEntry/3991732902">
	
	Ergebnisse einreichen
</a>



      
    </ul>
  
</li>


        </ul>
        

        
      </div>
    </div>
  </div>
</nav>

	</div>

	<article class="article">
		<div class="wrapper">
			<h1>Übung 6 - Katapultbelagerung </h1>

			

<p><strong>In dieser Übung wollen wir den Arm des in Übung 1 modellierten Katapults animieren und Physiksimulation nutzen, um ein Geschoss zu werfen.</strong></p>

<h2 id="vorbereitung">Vorbereitung</h2>

<p><img src="img/00.png" alt="Vorbereitung" /></p>

<ul>
<li><p>Öffnet euer Katapult. Falls ihr im Laufe der Übung feststellt, dass sich euer Modell nicht für die Aufgabe eignet, könnt ihr <a href="res/Katapult.html">dieses</a> Beispielmodell verwenden.</p></li>

<li><p>Da wir in dieser Übung mit Physik arbeiten, sind die richtigen Maße des Katapults wichtig. Öffnet dafür mit <code>N</code> die Sidebar. Skaliert nun euer Katapult, bis es realistische Maße hat, die unter <em>Dimensions</em> für das aktive Objekt angezeigt werden.</p></li>

<li><p>Fügt eine Kugel als Ladung für das Katapult hinzu und färbt sie mit einem Material entsprechend ein. Positioniert sie abschussbereit auf dem Katapult.</p></li>
</ul>

<h2 id="1-arm-animieren">1. Arm animieren</h2>

<p><img src="img/01.png" alt="Wurfarm" /></p>

<ul>
<li><p>Springt in der <em>Timeline</em> unten zu Frame 1 [1]. Zum Verschieben des aktiven Frames, könnt ihr die <code>←</code> <code>→</code> Tasten oder die rechte Maustaste benutzen.</p></li>

<li><p>Markiert den Arm des Katapults, oder die Achse mit der sich der damit verbundene Arm drehen lässt <a href="%5bsiehe%20%c3%83%c2%9cbung%201.1%20Punkt%203%5d(/chapter01/exercise01/index.html#3-wurfarm)">2</a>.</p></li>

<li><p>Drückt in der 3D Ansicht <code>i</code>, um einen Keyframe für die Rotation des Armes hinzuzufügen.</p></li>
</ul>

<p><img src="img/02.png" alt="Wurfarm" /></p>

<ul>
<li><p>Springt nun einige Frames nach vorne (standardmäßig entsprechen 24 Frames einer Sekunde). Die Bewegung des Armes soll recht schnell sein, deshalb wurden in diesem Beispiel 15 Frames verwendet [1].</p></li>

<li><p>Dreht den Arm nun so, wie er am Ende der Animation stehen soll.</p></li>

<li><p>Setzt erneut einen Keyframe für die Rotation.</p></li>
</ul>

<blockquote>
<ul>
<li>Nun sollten in der <em>Timeline</em> zwei orangene Punkte, die Keyframes repräsentieren erschienen sein [2]. Diese könnt ihr auch im Nachhinein noch verschieben. Selekteren und Verschieben der Keyframes mit der linken Maustaste.</li>
<li>In den <em>Transform</em> Ansicht des Objekts [3] seht ihr nun, dass sich die Werte bei <em>Rotation</em> gelb bzw. grün verfärbt haben.</li>
<li><span style="background-color:lime"><strong>Grün</strong></span> bedeutet, dass der Wert animiert ist,</li>
<li><span style="background-color:yellow"><strong>Gelb</strong></span> bedeutet, dass der Wert im aktiven Frame einen Keyframe hat.</li>
</ul>
</blockquote>

<ul>
<li>Die Animation kann mit <code>Leer</code> oder den <em>Player Controlls</em> in der <em>Timeline</em> [4] abgespielt werden. Ist die Animation zu lang, kann der <em>End</em>-Frame [5] verändert werden. In diesem Beispiel waren z.b. 60 Frames genug für die ganze Animation.</li>
</ul>

<h2 id="2-graph-editor">2. Graph Editor</h2>

<p>Standardmäßig werden Bewegungen in Blender mithilfe von <a href="https://de.wikipedia.org/wiki/Bézierkurve">Bezierkurven</a> weich dargestellt. Somit läuft die Bewegung des Katapultarms langsam an und läuft am Ende langsam wieder aus:</p>

<p><img src="img/graph1.gif" alt="graph1" /></p>

<p>Da wir den Arm jedoch abrupt stoppen lassen wollen, müssen wir die Beziekurve entsprechend editieren:</p>

<p><img src="img/graph2.gif" alt="graph1" /></p>

<p><img src="img/graph.png" alt="graph" /></p>

<ul>
<li>Stellt nun den <em>Timeline Editor</em> auf den <em>Graph Editor</em> [1] um und zieht den Bereich etwas größer [2]</li>
<li>Aktiviert <em>Normalize</em> [3], um die Kurven besser anzeigen zu lassen.</li>
<li>Deselektiert im <em>Graph Editor</em> alle Keyframes mit <code>Alt + A</code></li>
<li>Selektiert nun die Keyframes auf der rechten Seite (z.b. mit <code>B</code> für Box Select)</li>
<li>Skaliert diese auf der X Achse mit 0. Drückt dafür <code>S</code>, <code>X</code>, <code>0</code></li>
</ul>

<p><img src="img/graph3.gif" alt="graph1" /></p>

<h2 id="3-physik-simulieren">3. Physik simulieren</h2>

<h3 id="3-1-geschoss">3.1 Geschoss</h3>

<p>Im nächsten Schritt soll das Geschoss mit Physik simuliert werden.</p>

<p><img src="img/ball.png" alt="RigidBody" /></p>

<ul>
<li>Markiert das Geschoss.</li>
<li>Wechselt im <em>Properties Editor</em> zum <em>Physics</em> Tab.</li>
<li>Fügt der Kugel einen <em>Rigid Body</em> hinzu [1].</li>
</ul>

<h3 id="3-2-arm">3.2 Arm</h3>

<p><img src="img/physics.png" alt="RigidBody" /></p>

<ul>
<li>Markiert die &ldquo;Schaufel&rdquo; des Katapults (das Objekt, auf dem die Kugel zu Beginn der Animation aufliegt).</li>
<li>Fügt der Schaufel auch einen <em>Rigid Body</em> hinzu, stellt nun jedoch <em>Type</em> auf <em>Passive</em> <a href="Die%20Schaufel%20soll%20nicht%20mit%20Physik%20bewegt%20werden%2c%20sondern%20nur%20andere%20Objekte%20-%20hier%20die%20Kugel%20-%20beeinflussen.html">2</a>.</li>
<li>Stellt die <em>Collision Shape</em> der Schaufen von <em>Convex Hull</em> auf <em>Mesh</em> um.</li>
<li>Aktiviert zudem <em>Animated</em> im Rigid Body der Schaufel [3].</li>
</ul>

<blockquote>
<p>Die <strong>Kollisionsform</strong> (Collision Shape) umzustellen ist wichtig, damit die Kugel nicht aus der Schaufel herausrollt. <strong><em>Convex Hull</em></strong> erzeugt als Kollisionsform eine Hülle um das Mesh, dass Vertiefungen nicht beachtet. Das ist performant, aber hierfür zu ungenau. <strong><em>Mesh</em></strong> verwendet die tatsächliche Form des Meshes.
<img src="img/shape.png" alt="hull" /></p>
</blockquote>

<h3 id="3-3-physics-einstellungen">3.3 Physics Einstellungen</h3>

<ul>
<li>Probiert aus, was beim Abspielen der Animation passiert. Wenn Die Kugel durch die Schaufel durchfällt, aktiviert im <em>Properties Editor</em> → <em>Scene Tab</em> → <em>Rigid Body World</em> → <strong><em>Split Impulse</em></strong>.</li>
</ul>

<p><img src="img/04.png" alt="options" /></p>

<blockquote>
<p>Falls ihr nun bemerkt, dass ihr die Drehbewegung des Katapults nochmal anpassen müsst, springt einfach an die Positionen der entsprechenden Keyframes, dreht den Arm in eine neue Position und überschreibt den Keyframe (so wie man ihn auch setzt mit <code>i</code>)</p>
</blockquote>

<h2 id="4-kamera-constraint">4. Kamera Constraint</h2>

<p><strong>Nun wollen wir die Kamera dem Geschoss folgen lassen.</strong></p>

<p><img src="img/05.png" alt="trackto" /></p>

<ul>
<li>Fügt eine Kamera hinzu, falls noch keine in der Szene ist.</li>
<li>Platziert die Kamera in der Szene - z.b. an der Stelle, an der das Geschoss landet.</li>
<li>Fügt der Kamera im <em>Properties Editor</em> → <em>Constraints</em> einen <em>Track To Constraint</em> hinzu.</li>
<li>Wählt als <em>Target</em> euer Geschoss aus</li>
<li>Stellt für &ldquo;*To:&rdquo; -Z und für &ldquo;<em>Up:</em>&rdquo; Y ein.</li>
<li>Um Die Kamerabewegung nicht so statisch erscheinen zu lassen, stellt <em>Influence</em> auf einen niedrigeren Wert als 1.0.</li>
<li>Mit <code>Numpad 0</code> oder dem Kamerasymbol oben rechts, könnt ihr bei Bedarf in die Kameraansicht wechseln.</li>
</ul>

<blockquote>
<p>Da die Kamera in ihrem Lokalen Achsensystem die Richtung -Z als &ldquo;Vorwärts&rdquo; festgelegt hat und ihre Y Achse nach oben zeigt, werden diese Werte für den Constraint verwendet.
<img src="img/trackto.png" alt="trackto erklärung" /></p>
</blockquote>

<h2 id="5-rendern">5. Rendern</h2>

<h3 id="5-1-freiwillig-materialien-und-licht">5.1 Freiwillig - Materialien und Licht</h3>

<ul>
<li>Fügt den Objkten Materialien hinzu und Beleuchtet die Szene wie in Übung 5 gelernt (Freiwillig)</li>
</ul>

<h3 id="5-2-videodatei-ausgeben">5.2 Videodatei Ausgeben</h3>

<p><img src="img/06.png" alt="ausgabe" /></p>

<ul>
<li>Wechselt zum <em>Output</em> Tab des <em>Properties</em> Editors.</li>
<li>Gebt als Auflösung 1280 * 720 an (100%) [1]</li>
<li>Gebt einen Pfad an, an dem eure Videodatei ausgegeben werden soll [2]</li>
<li>Gebt als Format <em>FFmpeg video</em> an [3]</li>
<li>Stellt unter Encoding als Container MPEG-4 ein [4]. (.mp4 damit das Video im Browser abgespielt werden kann)</li>
<li>Klickt nun <em>Render</em> → <em>Render Animation</em> um die Szene zu rendern und die Videodatei am angegebenen Pfad abzuspeichern [5].</li>
</ul>

<h2 id="abgabe">Abgabe</h2>

<p>Die Abgabe besteht aus der .blend Datei, sowie der gerenderten Animation als .mp4 Video.</p>

<p><img src="img/result.gif" alt="abgagbe" /></p>

<h2 id="ressourcen-tutorials-zum-thema">Ressourcen &amp; Tutorials zum Thema</h2>

<table>
<thead>
<tr>
<th>Art/Länge</th>
<th>Titel</th>
<th>Thema</th>
<th>Quelle</th>
</tr>
</thead>

<tbody>
<tr>
<td><img src="../../general/icons/video.png" class="resicon"> 7:40</td>
<td><a href="https://youtu.be/SZJswvw9wEs"><strong>Keyframes - Blender 2.80 Fundamentals</strong></a></td>
<td>Animation</td>
<td><a href="https://www.youtube.com/channel/UCSMOQeBJ2RAnuFungnQOxLg">YouTube - Blender (offizieller Kanal)</a></td>
</tr>

<tr>
<td><img src="../../general/icons/video.png" class="resicon"> 10:12</td>
<td><a href="https://youtu.be/zHlln3AzeMs"><strong>Graph Editor - Blender 2.80 Fundamentals</strong></a></td>
<td>Animation</td>
<td><a href="https://www.youtube.com/channel/UCSMOQeBJ2RAnuFungnQOxLg">YouTube - Blender (offizieller Kanal)</a></td>
</tr>

<tr>
<td><img src="../../general/icons/video.png" class="resicon"> 14:27</td>
<td><a href="https://youtu.be/o19U-yPGdyY"><strong>Timeline - Blender 2.80 Fundamentals</strong></a></td>
<td>Animation</td>
<td><a href="https://www.youtube.com/channel/UCSMOQeBJ2RAnuFungnQOxLg">YouTube - Blender (offizieller Kanal)</a></td>
</tr>

<tr>
<td><img src="../../general/icons/video.png" class="resicon"> 8:34</td>
<td><a href="https://youtu.be/LHdh8p37yM8"><strong>Dopesheet - Blender 2.80 Fundamentals</strong></a></td>
<td>Animation</td>
<td><a href="https://www.youtube.com/channel/UCSMOQeBJ2RAnuFungnQOxLg">YouTube - Blender (offizieller Kanal)</a></td>
</tr>

<tr>
<td><img src="../../general/icons/video.png" class="resicon"> 13:28</td>
<td><a href="https://youtu.be/GGp4ytnxJJ0"><strong>Introduction to Animation - Blender 2.8 Beginner Tutorial (Eevee)</strong></a></td>
<td>Animation</td>
<td><a href="https://www.youtube.com/channel/UCE_HM9GPhYGUrFdmM7VjO8g">YouTube - chocofur</a></td>
</tr>

<tr>
<td><img src="../../general/icons/video.png" class="resicon"> 20:41</td>
<td><a href="https://youtu.be/2C7lRSPVvHI"><strong>Blender 2.8 Beginner Tutorial - Part 12: Rigid Body Simulation</strong></a></td>
<td>Physiksimulation</td>
<td><a href="https://www.youtube.com/channel/UCWWybvw9jnpOdJq_6wTHryA">YouTube - CG Boost</a></td>
</tr>
</tbody>
</table>

<h2 id="gelerntes">Gelerntes</h2>

<table>
<thead>
<tr>
<th>Funktion</th>
<th>Kontext</th>
<th>Shortcut</th>
</tr>
</thead>

<tbody>
<tr>
<td>Keyframe setzen</td>
<td>/</td>
<td><code>i</code></td>
</tr>

<tr>
<td>Aktiven frame verschieben</td>
<td>/</td>
<td><code>←</code> <code>→</code></td>
</tr>

<tr>
<td>Animation abspielen</td>
<td>/</td>
<td><code>Leer</code></td>
</tr>
</tbody>
</table>


			<aside class="copyright" role="note">
				
				Documentation built with
				<a href="https://www.gohugo.io/" target="_blank">Hugo</a>
				using the
				<a href="http://github.com/digitalcraftsman/hugo-material-docs" target="_blank">Material</a> theme.
			</aside>

			<footer class="footer">
				

<nav class="pagination" aria-label="Footer">
  <div class="previous">
  
      <a href="../../chapter05/exercise02_b/index.html" title="Übung 5.2 - Texture Painting">
        <span class="direction">
          Previous
        </span>
        <div class="page">
          <div class="button button-previous" role="button" aria-label="Previous">
            <i class="icon icon-back"></i>
          </div>
          <div class="stretch">
            <div class="title">
              Übung 5.2 - Texture Painting
            </div>
          </div>
        </div>
      </a>
  
  </div>

  <div class="next">
  
      <a href="../exercise01_a/index.html" title="Übung 6.1 - Animation">
        <span class="direction">
          Next
        </span>
        <div class="page">
          <div class="stretch">
            <div class="title">
              Übung 6.1 - Animation
            </div>
          </div>
          <div class="button button-next" role="button" aria-label="Next">
            <i class="icon icon-forward"></i>
          </div>
        </div>
      </a>
  
  </div>
</nav>





			</footer>
		</div>
	</article>

	<div class="results" role="status" aria-live="polite">
		<div class="scrollable">
			<div class="wrapper">
				<div class="meta"></div>
				<div class="list"></div>
			</div>
		</div>
	</div>
</main>

    <script>
    
      var base_url = '';
      var repo_id  = '';
    
    </script>

    <script src="../../javascripts/application.js"></script>
    

    <script>
      /* Add headers to scrollspy */
      var headers   = document.getElementsByTagName("h2");
      var scrollspy = document.getElementById('scrollspy');

      if(scrollspy) {
        if(headers.length > 0) {
          for(var i = 0; i < headers.length; i++) {
            var li = document.createElement("li");
            li.setAttribute("class", "anchor");

            var a  = document.createElement("a");
            a.setAttribute("href", "#" + headers[i].id);
            a.setAttribute("title", headers[i].innerHTML);
            a.innerHTML = headers[i].innerHTML;

            li.appendChild(a)
            scrollspy.appendChild(li);
          }
        } else {
          scrollspy.parentElement.removeChild(scrollspy)
        }


        /* Add permanent link next to the headers */
        var headers = document.querySelectorAll("h1, h2, h3, h4, h5, h6");

        for(var i = 0; i < headers.length; i++) {
            var a = document.createElement("a");
            a.setAttribute("class", "headerlink");
            a.setAttribute("href", "#" + headers[i].id);
            a.setAttribute("title", "Permanent link")
            a.innerHTML = "#";
            headers[i].appendChild(a);
        }
      }
    </script>

    

    <script src="../../../../../../cdnjs.cloudflare.com/ajax/libs/highlight.js/9.8.0/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
  </body>
</html>

